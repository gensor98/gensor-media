<!DOCTYPE html>
<html dir="rtl" lang="fa-IR">

<head>
    <title>یافتن گمشده ها</title>
    <link rel="icon" type="image/x-icon" href="./picture/gensor-media.png">
    <link rel="stylesheet" href="./css/style.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<b>
    <div id="popup" class="popup">
        <div class="popup-content" style="border: 15px outset black; border-radius: 15%;">
            <span class="close-icon">&#10006;</span>
            <h2 style="color:black; font-size:200%; font-family:cursive; text-align: center;"> &#128151;خوش
                آمدید&#128151;
            </h2>
            <form style="direction: rtl; font-size: larger;">
                <label for="username">نام کاربری:</label>
                <input type="text" id="username">
                <label for="password">رمز عبور:</label>
                <input type="password" id="password">
                <div style="direction: ltr;"><button style="cursor: pointer; font-size: large;"
                        type="submit"><b>ورود</b></button></div>
            </form>
        </div>
    </div>

    <div id="popup2" class="popup">
        <div class="popup-content" style="border: 15px outset black; border-radius: 15%;">
            <span class="close-icon2">&#10006;</span>
            <h2 style="color:black; font-size:200%; font-family:cursive; text-align: center;"> &#128151;خوش
                آمدید&#128151;
            </h2>
            <form style="direction: rtl; font-size: larger;">
                <label for="username">نام کاربری:</label>
                <input type="text" id="username">
                <label for="username">ایمیل:</label>
                <input type="email" id="username">
                <label for="password">رمز عبور:</label>
                <input type="password" id="password">
                <label for="password">تکرار رمز عبور:</label>
                <input type="password" id="password">
                <div style="direction: ltr;"><button style="cursor: pointer; font-size: large;" type="submit"><b>ثبت
                            نام</b></button></div>
            </form>
        </div>
    </div>
</b>

<body style="direction: rtl; background: linear-gradient(to right, black,  gold,green, black);">
    <ul id="Hlist" style="width: 11.6%;">
        <b>
            <li><a class="Nlist" href="./html-media.html">صفحه اصلی</a></li>
            <li><a class="Nlist" href="#">فیلم و سریال</a></li>
            <li><a class="Nlist" href="#">آهنگ</a></li>
            <li><a class="Nlist" href="#">کارتون و انیمیشن</a></li>
            <li><a class="Nlist" href="#">نمایش صحنه ای</a></li>
            <li><a class="Nlist" href="#">دنیای سبز</a></li>
            <!-- این قسمت مخصوص اپلیکیشنی است که در آینده می نویسم و تحت وب آن در این سایت رو نمایی میشه. -->
            <li><a class="Nlist" href="./گمشده ها.html">گمشده ها</a></li>
            <!-- این قسمت مخصوص اپلیکیشنی است که در آینده می نویسم و تحت وب آن در این سایت رو نمایی میشه که در آن به گمشده ها و سوژه یاب تقسیم میشه و به سرور نیروانتظامی و تهران بزرگ و سپاه متصل میشه. -->
            <li id="scrollTobottom" style="cursor: pointer;"><a class="Nlist">ارتباط با ما</a></li>
        </b>
    </ul>
    <ul id="Hlist" style="top: 453px; width: 4.9%;">
        <b>
            <button style="float: right; font-size:250%; background: none; border: none; cursor: pointer;"
                id="loginButton" title="ورود">&#128682;</button>
    </ul>
    <ul id="Hlist" style="top: 453px; right: 84px; width: 5%;">
        <button style="float: left; font-size:250%; background: none; border: none; cursor: pointer;" id="loginButton2"
            title="ثبت نام">&#9997;</button>
        </b>
    </ul>

    <div style="text-align:center;">
        <img src="./picture/gensor-media.png" width="520" height="520">
    </div>

    <hr>

    <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
        <b>
            <p
                style="font-size: xxx-large; font-family:cursive; text-align: center; color: #740505; display: inline-block; border-bottom: 5px solid rgb(255, 0, 0);">
                "جوینده یابنده است!"</p>
        </b>

        <div id="uploadSection" style="text-align: center; width: 30%; margin: auto;">
            <form id="uploadForm" enctype="multipart/form-data"
                style="background-color: rgba(0, 0, 0, 0.8); border: 1px solid gold; border-radius: 10px; padding: 15px; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5); color: white;">
                <input type="file" id="photoUpload" accept="image/*" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; background-color: black; color: white;">
                <br>
                <label for="fullName" style="font-weight: bold;">نام و نام خانوادگی</label>
                <br>
                <input type="text" id="fullName" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="gender" style="font-weight: bold;">جنسیت</label>
                <br>
                <select id="gender" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                    <option value="male">مرد</option>
                    <option value="female">زن</option>
                </select>
                <br>
                <label for="age" style="font-weight: bold;">سن</label>
                <br>
                <input type="number" id="age" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="apearence" style="font-weight: bold;">مشخصات ظاهری</label>
                <br>
                <input type="text" id="apearence" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="healthStatus" style="font-weight: bold;">وضعیت سلامت</label>
                <br>
                <input type="text" id="healthStatus" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="clothing" style="font-weight: bold;">پوشش</label>
                <br>
                <input type="text" id="clothing" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="missingLocation" style="font-weight: bold;">محل گمشدن</label>
                <br>
                <input type="text" id="missingLocation" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="location" style="font-weight: bold;">لوکیشن</label>
                <br>
                <input type="url" id="location" placeholder="لینک لوکیشن" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="time" style="font-weight: bold;">مدت زمان گمشدن</label>
                <br>
                <input type="text" id="time" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <label for="callnumber" style="font-weight: bold;">شماره تماس</label>
                <br>
                <input type="text" id="callnumber" required
                    style="margin-bottom: 15px; padding: 5px; border: 1px solid gold; border-radius: 5px; width: 80%; background-color: black; color: white;">
                <br>
                <button type="submit"
                    style="cursor: pointer; background-color: gold; color: black; padding: 10px 20px; border: none; border-radius: 5px; font-size: 16px;">آپلود</button>
            </form>
        </div>
        <hr>
        <div id="gallerySection" style="text-align: center; width: 80%; margin: auto; display: none;"></div>
        <div id="gallery" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
        </div>
    </div>
    <div id="pagination" style="margin-top: 20px; text-align: center;"></div>

    <div id="editPopup" class="popup"
        style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000; background-color: rgba(0, 0, 0, 0.9); border: 2px solid gold; border-radius: 10px; padding: 20px; width: 50%; height: 80%; overflow-y: auto; color: white;">
        <span id="editClose" style="cursor: pointer; color: red; font-size: 20px; float: right;">&#10006;</span>
        <h2 style="text-align: center; color: gold;">ویرایش اطلاعات</h2>
        <form id="editForm">
            <div style="text-align: center; margin-bottom: 20px;">
                <input type="file" id="editPhoto" accept="image/*"
                    style="width: 80%; margin-bottom: 10px; padding: 5px; text-align: center;">
                <img id="editPhotoPreview" src="" alt="Preview"
                    style="width: 250px; height: 250px; margin: 0 auto; display: none; border-radius: 10px;">
            </div>
            <label for="editFullName" style="font-weight: bold;">نام و نام خانوادگی</label>
            <input type="text" id="editFullName" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editGender" style="font-weight: bold;">جنسیت</label>
            <select id="editGender" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
                <option value="male">مرد</option>
                <option value="female">زن</option>
            </select>
            <label for="editAge" style="font-weight: bold;">سن</label>
            <input type="number" id="editAge" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editApearence" style="font-weight: bold;">مشخصات ظاهری</label>
            <input type="text" id="editApearence" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editHealthStatus" style="font-weight: bold;">وضعیت سلامت</label>
            <input type="text" id="editHealthStatus" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editClothing" style="font-weight: bold;">پوشش</label>
            <input type="text" id="editClothing" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editMissingLocation" style="font-weight: bold;">محل گمشدن</label>
            <input type="text" id="editMissingLocation" required
                style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editLocation" style="font-weight: bold;">لوکیشن</label>
            <input type="url" id="editLocation" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editTime" style="font-weight: bold;">مدت زمان گمشدن</label>
            <input type="text" id="editTime" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <label for="editCallnumber" style="font-weight: bold;">شماره تماس</label>
            <input type="text" id="editCallnumber" required style="width: 100%; margin-bottom: 10px; padding: 5px;">
            <button type="submit"
                style="cursor: pointer; background-color: gold; color: black; padding: 10px 20px; border: none; border-radius: 100%; font-size: larger; float: left;">ذخیره</button>
        </form>
    </div>

    <div style="display: flex; justify-content: center; align-items: center; margin: 20px 0;">
        <p
            style="font-size: xxx-large; font-family:cursive; text-align: center; color: #000000; display: inline-block; border-bottom: 5px solid red;">
            "فهرست"</p>
    </div>
    <div class="image-container">
        <div class="row">
            <div class="col" style="width: 250px; height: 250px; margin: 10px;">
                <img src="./picture/فیلم.avif" width="50%" height="40%" alt="فیلم و سریال">
                <hr>
                <h1 style="color: rgb(20, 0, 90); font-size: x-large;">فیلم و سریال</h1>
                <div style="direction: rtl;"><a href="#"><button
                            style="box-shadow: 0px 8px 12px rgba(0, 0, 0, 0.5), inset 0px 2px 4px rgba(255, 255, 255, 0.7);
 animation: fade 0.5s infinite alternate; background-color: #000000; color: red; font-size:x-large; cursor: pointer; border-radius: 50%;"
                            type="continue">کلیک کنید</button></a></div>
            </div>
            <div class="col" style="width: 250px; height: 250px; margin: 10px;">
                <img src="./picture/آهنگ.avif" width="50%" height="40%" alt="آهنگ">
                <hr>
                <h1 style="color: rgb(20, 0, 90); font-size: x-large;">آهنگ</h1>
                <div style="direction: rtl;"><a href="#"><button
                            style="box-shadow: 0px 8px 12px rgba(0, 0, 0, 0.5), inset 0px 2px 4px rgba(255, 255, 255, 0.7);
 animation: fade 0.75s infinite alternate; background-color: #000000; color: red; font-size: x-large; cursor: pointer; border-radius: 50%;"
                            type="continue">کلیک کنید</button></a></div>
            </div>
            <div class="col" style="width: 250px; height: 250px; margin: 10px;">
                <img src="./picture/کارتون.avif" width="50%" height="40%" alt="کارتون و انیمیشن">
                <hr>
                <h1 style="color: rgb(20, 0, 90); font-size: x-large;">کارتون و انیمیشن</h1>
                <div style="direction: rtl;"><a href="#"><button
                            style="box-shadow: 0px 8px 12px rgba(0, 0, 0, 0.5), inset 0px 2px 4px rgba(255, 255, 255, 0.7);
 animation: fade 0.5s infinite alternate; background-color: #000000; color: red; font-size: x-large; cursor: pointer; border-radius: 50%;"
                            type="continue">کلیک کنید</button></a></div>
            </div>
            <div class="col" style="width: 250px; height: 250px; margin: 10px;">
                <img src="./picture/تئاتر.avif" width="50%" height="40%" alt="نمایش صحنه ای">
                <hr>
                <h1 style="color: rgb(20, 0, 90); font-size: x-large;">نمایش صحنه ای</h1>
                <div style="direction: rtl;"><a href="#"><button
                            style="box-shadow: 0px 8px 12px rgba(0, 0, 0, 0.5), inset 0px 2px 4px rgba(255, 255, 255, 0.7);
 animation: fade 0.75s infinite alternate; background-color: #000000; color: red; font-size: x-large; cursor: pointer; border-radius: 50%;"
                            type="continue">کلیک کنید</button></a></div>
            </div>
        </div>
    </div>
    <div style="display: flex; justify-content: center; align-items: center; margin: 20px 0;">
        <p
            style="font-size: xxx-large; font-family:cursive; text-align: center; color: #000000; display: inline-block; border-bottom: 5px solid red;">
            "اپلیکیشن تحت وب"</p>
    </div>
    <div class="image-container" style="display: flex; justify-content: center; align-items: center;">
        <div class="col" style="width: 250px; height: 250px; margin: 10px;">
            <img src="./picture/دنیای سبز.jpg" width="50%" height="40%" alt="نظافت و تاسیسات و پرستار خانگی">
            <hr>
            <h1 style="color: rgb(20, 0, 90); font-size: x-large;">دنیای سبز</h1>
            <div style="direction: rtl;"><a href="#"><button
                        style="box-shadow: 0px 8px 12px rgba(0, 0, 0, 0.5), inset 0px 2px 4px rgba(255, 255, 255, 0.7);
 animation: fade 0.5s infinite alternate; background-color: #000000; color: red; font-size: x-large; cursor: pointer; border-radius: 50%;"
                        type="continue">کلیک کنید</button></a>
            </div>
        </div>
        <div class="col" style="width: 250px; height: 250px; margin: 10px;">
            <img src="./picture/گمشده ها.jpg" width="50%" height="40%" alt="گمشده و سوژه یاب">
            <hr>
            <h1 style="color: rgb(20, 0, 90); font-size: x-large;">گمشده ها</h1>
            <div style="direction: rtl;"><a href="./گمشده ها.html"><button
                        style="box-shadow: 0px 8px 12px rgba(0, 0, 0, 0.5), inset 0px 2px 4px rgba(255, 255, 255, 0.7);
 animation: fade 0.75s infinite alternate; background-color: #000000; color: red; font-size: x-large; cursor: pointer; border-radius: 50%;" type="continue">کلیک
                        کنید</button></a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="main">
            <div class="about">
                <h5>درباره ما</h5>
                <hr>
                <p><b>در این رسانه شما می توانید با بهترین فیلم ها و آهنگ های ایرانی و خارجی همراه باشید و همچنین در
                        این
                        سایت
                        از نمایش های صحنه ای ،سرگرمی و اخبار آرشیوی و روز دنیا و ایران می توانید لذت ببرید و اوقات
                        خوشی
                        را
                        به ارمغان بیاورید.
                        <br><br>در سایت gensor media.com همراه ما باشید و ما را به دوستان خود معرفی کنید.</b>
                </p>
            </div>
        </div>
        <div class="social">
            <h5>ارتباط با ما</h5>
            <hr>
            <b>
                <div style="direction: ltr; list-style-type: none; text-align: left;">
                    <div>
                        <li><img src="./picture/Gmail/4photoshop-ir-icon-mail.png" width="25" height="15"> ایمیل
                        </li>
                    </div>
                    <div>
                        <li><img src="./picture/eitaa-icon/eitaa-icon-black.png" width="25" height="25"> ایتا</li>
                    </div>
                    <div style="filter: brightness(-50%);">
                        <li><img src="./picture/sms/4photoshop-ir-icon-sms2.png" width="25" height="25"> پیامک</li>
                    </div>
                    <div>
                        <li><img src="./picture/Mobile/4photoshop-ir-icon-telephone-ring.png" width="25" height="25">
                            تماس</li>
                    </div>
                    <div style="transform: translate( 50%, -125%);">
                        <div style="filter: brightness(-50%);">
                            <li><img src="./picture/Instagram.png" width="25" height="25"> اینستاگرام</li>
                        </div>
                        <div>
                            <li><img src="./picture/telgrampng.parspng.com-2.png" width="25" height="25"> تلگرام
                            </li>
                        </div>
                        <div>
                            <li><img src="./picture/GPSpng.parspng.com-3.png" width="25" height="25"> آدرس</li>
                        </div>
                    </div>
                </div>
            </b>
        </div>
    </footer>

    <div id="scrollToTop">&#9650;</div>

    <div
        style="direction: ltr; display: flex; justify-content: right; font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif; font-size: larger; align-items: right; position: fixed; right: 10; bottom: 0;">
        <button id="clockButton" class="clock-button">
            <img src="./picture/clock.png" width="50" height="40">
        </button>
        <p id="demo" style="color: white;">ساعت به وقت ایران</p>
    </div>

    <script>
        window.onload = function () {
            var overlay = document.getElementById("overlay");
            var popup3 = document.getElementById("popup3");
            var closeBtn = document.getElementById("close-icon3");
            var isPopupOpen = false;

            overlay.addEventListener("click", function (event) {
                event.stopPropagation();
            });

            closeBtn.addEventListener("click", function () {
                popup3.style.display = "none";
                overlay.style.display = "none";
                isPopupOpen = false;
                document.body.classList.remove("no-scroll");
            });

            window.addEventListener("scroll", function () {
                if (isPopupOpen) {
                    window.scrollTo(0, 0);
                }
            });

            function openPopup() {
                popup3.style.display = "block";
                overlay.style.display = "block";
                isPopupOpen = true;
                document.body.classList.add("no-scroll");
            }

            openPopup();
        };

        document.getElementById('scrollTobottom').addEventListener('click', function () {
            window.scrollTo({
                top: document.body.scrollHeight,
                behavior: "smooth"
            });
        });

        document.getElementById('scrollToTop').addEventListener('click', function () {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        document.getElementById("loginButton").addEventListener("click", function () {
            document.getElementById("popup").style.display = "flex";
        });

        document.getElementById("loginButton2").addEventListener("click", function () {
            document.getElementById("popup2").style.display = "flex";
        });

        document.querySelector("#popup form").addEventListener("submit", function (event) {
            event.preventDefault();
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;
            console.log("Username: " + username);
            console.log("Password: " + password);
            document.getElementById("popup").style.display = "none";
        });

        var closeIcon = document.querySelector('.close-icon');
        closeIcon.addEventListener('click', function () {
            var popup = document.getElementById('popup');
            popup.style.display = 'none';
        });

        var closeIcon2 = document.querySelector('.close-icon2');
        closeIcon2.addEventListener('click', function () {
            var popup2 = document.getElementById('popup2');
            popup2.style.display = 'none';
        });

        var clockVisible = false;

        function toggleClock() {
            var clockElement = document.getElementById("demo");
            if (clockVisible) {
                clockElement.style.display = "none";
                clockVisible = false;
            } else {
                updateClock();
                clockElement.style.display = "block";
                clockVisible = true;
            }
        }

        function updateClock() {
            var clockElement = document.getElementById("demo");
            var currentTime = new Date();
            var hours = currentTime.getHours();
            var minutes = currentTime.getMinutes();
            var seconds = currentTime.getSeconds();
            clockElement.innerHTML = hours + ":" + minutes + ":" + seconds;
        }

        setInterval(updateClock, 1000);

        const gallery = document.getElementById("gallery");
        const pagination = document.getElementById("pagination");
        const photosPerPage = 10;
        let photos = JSON.parse(localStorage.getItem("photos")) || [];
        let currentPage = 1;

        document.getElementById("uploadForm").addEventListener("submit", function (event) {
            event.preventDefault();

            const photoFile = document.getElementById("photoUpload").files[0];
            const fullName = document.getElementById("fullName").value;
            const gender = document.getElementById("gender").value;
            const age = document.getElementById("age").value;
            const apearence = document.getElementById("apearence").value;
            const healthStatus = document.getElementById("healthStatus").value;
            const clothing = document.getElementById("clothing").value;
            const missingLocation = document.getElementById("missingLocation").value;
            const location = document.getElementById("location").value;
            const time = document.getElementById("time").value;
            const callnumber = document.getElementById("callnumber").value;

            if (photoFile) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    photos.push({
                        photo: e.target.result,
                        fullName,
                        gender,
                        age,
                        apearence,
                        healthStatus,
                        clothing,
                        missingLocation,
                        location,
                        time,
                        callnumber,
                    });
                    localStorage.setItem("photos", JSON.stringify(photos)); // Save to localStorage
                    renderGallery();
                };
                reader.readAsDataURL(photoFile);
            }
        });

        function renderGallery() {
            gallery.innerHTML = "";
            pagination.innerHTML = "";

            const startIndex = (currentPage - 1) * photosPerPage;
            const endIndex = Math.min(startIndex + photosPerPage, photos.length);
            const currentPhotos = photos.slice(startIndex, endIndex);

            currentPhotos.forEach((photo, index) => {
                const photoCard = document.createElement("div");
                photoCard.style.border = "10px inset goldenrod";
                photoCard.style.padding = "10px";
                photoCard.style.width = "200px";
                photoCard.style.textAlign = "center";
                photoCard.style.borderRadius = "10px";
                photoCard.style.boxShadow = "0px 2px 4px rgba(0, 0, 0, 0.1)";
                photoCard.style.backgroundColor = "black";

                photoCard.innerHTML = `
                <img src="${photo.photo}" alt="Uploaded Photo" style="width: 100%; height: auto; border-radius: 10px; margin-bottom: 10px;">
                <hr>               
                <p style="color: white; font-size: larger;"><b style="color: red;">نام و نام خانوادگی:</b> ${photo.fullName}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">جنسیت:</b> ${photo.gender}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">سن:</b> ${photo.age}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">مشخصات ظاهری:</b> ${photo.apearence}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">سلامت:</b> ${photo.healthStatus}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">پوشش:</b> ${photo.clothing}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">محل گمشدن:</b> ${photo.missingLocation}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">لوکیشن:</b> <a href="${photo.location}" target="_blank" style="color: #007BFF;">مشاهده</a></p>
                <p style="color: white; font-size: larger;"><b style="color: red;">مدت زمان گمشدن:</b> ${photo.time}</p>
                <p style="color: white; font-size: larger;"><b style="color: red;">شماره تماس:</b> ${photo.callnumber}</p>
                <button onclick="editPhoto(${startIndex + index})" style="cursor: pointer; background-color: #FFC107; color: white; padding: 5px 10px; border: none; border-radius: 5px; margin-right: 5px;">ویرایش</button>
                <button onclick="deletePhoto(${startIndex + index})" style="cursor: pointer; background-color: #F44336; color: white; padding: 5px 10px; border: none; border-radius: 5px;">حذف</button>
            `;
                gallery.appendChild(photoCard);
            });

            const totalPages = Math.ceil(photos.length / photosPerPage);
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement("button");
                pageButton.textContent = i;
                pageButton.style.margin = "0 5px";
                pageButton.style.cursor = "pointer";
                pageButton.style.padding = "5px 10px";
                pageButton.style.border = "1px solid #ccc";
                pageButton.style.borderRadius = "5px";
                pageButton.style.backgroundColor = i === currentPage ? "#007BFF" : "#ffffff";
                pageButton.style.color = i === currentPage ? "#ffffff" : "#000000";
                pageButton.disabled = i === currentPage;
                pageButton.addEventListener("click", () => {
                    currentPage = i;
                    renderGallery();
                });
                pagination.appendChild(pageButton);
            }
        }

        let editIndex = null;

        function editPhoto(index) {
            editIndex = index;
            const photo = photos[index];
            document.getElementById("editFullName").value = photo.fullName;
            document.getElementById("editGender").value = photo.gender;
            document.getElementById("editAge").value = photo.age;
            document.getElementById("editApearence").value = photo.apearence;
            document.getElementById("editHealthStatus").value = photo.healthStatus;
            document.getElementById("editClothing").value = photo.clothing;
            document.getElementById("editMissingLocation").value = photo.missingLocation;
            document.getElementById("editLocation").value = photo.location;
            document.getElementById("editTime").value = photo.time;
            document.getElementById("editCallnumber").value = photo.callnumber;
            document.getElementById("editClose").addEventListener("click", function () {
            document.getElementById("editPopup").style.display = "none";
            });

            const editPhotoPreview = document.getElementById("editPhotoPreview");
            editPhotoPreview.src = photo.photo;
            editPhotoPreview.style.display = "block";

            document.getElementById("editPopup").style.display = "block";
        }

        document.getElementById("editPhoto").addEventListener("change", function (event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById("editPhotoPreview").src = e.target.result;
                    document.getElementById("editPhotoPreview").style.display = "block";
                };
                reader.readAsDataURL(file);
            }
        });

        document.getElementById("editForm").addEventListener("submit", function (event) {
            event.preventDefault();
            const updatedPhoto = {
                photo: document.getElementById("editPhotoPreview").src || photos[editIndex].photo,
                fullName: document.getElementById("editFullName").value,
                gender: document.getElementById("editGender").value,
                age: document.getElementById("editAge").value,
                apearence: document.getElementById("editApearence").value,
                healthStatus: document.getElementById("editHealthStatus").value,
                clothing: document.getElementById("editClothing").value,
                missingLocation: document.getElementById("editMissingLocation").value,
                location: document.getElementById("editLocation").value,
                time: document.getElementById("editTime").value,
                callnumber: document.getElementById("editCallnumber").value,
            };
            photos[editIndex] = updatedPhoto;
            localStorage.setItem("photos", JSON.stringify(photos));
            renderGallery();
            document.getElementById("editPopup").style.display = "none";
        });

        function deletePhoto(index) {
            photos.splice(index, 1);
            localStorage.setItem("photos", JSON.stringify(photos)); // Update localStorage
            renderGallery();
        }

        // Render gallery on page load
        renderGallery();
    </script>

</body>

</html>